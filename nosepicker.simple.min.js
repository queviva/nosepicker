new function(){let e=(...e)=>e.sort((e,t)=>e-t)[1],t=(e,[t,s,n,o]=e.match(/\d+\.*\d*/g).map(e=>e/=255),a=Math.max(t,s,n),l=Math.min(t,s,n),i=a-l,h=a+l)=>({h:i?60*(a===s?(n-t)/i+2:a===n?(t-s)/i+4:(s-n)/i+(s<n?6:0)):0,s:i?100*i/(h>1?2-a-l:h):0,l:50*h,a:void 0===o?1:255*o}),s=(t,s,n,o,a,l=s.hsla,i=t.stopPropagation()+t.preventDefault())=>s.obj.dispatchEvent(new CustomEvent(s.inputEventName,{detail:{value:s.value="hsla("+(l.h-=a?0:o)+","+(l.s=a?e(l.s+o,100,0):l.s)+"%,"+(l.l=a?l.l:e(l.l+n,100,0))+"%,"+(l.a=a?e(l.a-.01*n,1,0):l.a)+")",hsla:l},self:s.noself?"":s.obj.style[s.src]=s.value}));window.addEventListener("load",e=>{document.querySelectorAll("[data-nose]:not(script)").forEach((e,n)=>{this[e.id||"nose"+n]=new function(e,n){for(let s in r={obj:e,src:n.src||"backgroundColor",hsla:t(n.col||window.getComputedStyle(e)[n.src||"backgroundColor"]),noself:n.noself||!1,inputEventName:n.inputEventName||"noseinput",prev:[0,0],sens:{X:1,Y:1}})this[s]=r[s];for(let t in r={wheel:e=>s(e,this,this.sens.X*(e.shiftKey?.001:.01)*e.wheelDeltaX,this.sens.Y*(e.shiftKey?.001:.01)*e.wheelDeltaY,e.ctrlKey),touchmove:e=>s(e,this,.01*this.sens.X*(this.prev[0]-e.touches[0].clientX),.01*this.sens.Y*(this.prev[1]-e.touches[0].clientY),e.touches[1]),touchstart:e=>this.prev=[e.touches[0].pageX,e.touches[0].pageY]})e.addEventListener(t,r[t],{passive:!1});e.dispatchEvent(new CustomEvent("noseload",{detail:this}))}(e,JSON.parse(e.dataset.nose||"{}"))})})};
